import CSSValueInput from '@acusti/css-value-input';
import Dropdown from '@acusti/dropdown';
import { Meta, Story, Canvas, Props } from '@storybook/addon-docs';

<Meta
    argTypes={{ onSubmitItem: { action: 'submitted' } }}
    component={Dropdown}
    title="UIKit/Controls/Dropdown"
/>

# Dropdown

`Dropdown` is a React component that renders a menu-like UI with a trigger
that the user clicks to disclose a dropdown positioned below the trigger.
The body of the dropdown can include any DOM, and many dropdowns can be
combined to form a multi-item menu, like the system menu in the top toolbar
of macOS.

<style>{`
.innerZoomElementWrapper {
    min-height: 210px;
}
.uktdropdown input {
    box-sizing: border-box;
    width: 110px;
}
.uktdropdown-body {
    max-height: 150px;
}
.uktdropdown-body ul {
    text-align: left;
    list-style-type: none;
    padding-left: 0px;
    margin: 0px;
}
.uktdropdown-body li {
    padding: 4px 8px;
    margin: 4px 0;
}
.uktdropdown-body .heading {
    color: #aaa;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 700;
}

.css-lengths .uktdropdown-trigger {
    position: relative;
    margin-left: 3px;
    width: 27px;
    height: 21px;
    vertical-align: top;
}
.css-lengths .uktdropdown-trigger:before {
    content: "";
    display: block;
    position: absolute;
    width: 9px;
    height: 2px;
    top: 8px;
    left: 4px;
    border-radius: 2px 0 0 3px;
    background-color: #666;
    transform: rotateZ(38deg);
}
.css-lengths .uktdropdown-trigger:after {
    content: "";
    display: block;
    position: absolute;
    width: 9px;
    height: 2px;
    top: 8px;
    right: 4px;
    border-radius: 0 2px 2px 0;
    background-color: #666;
    transform: rotateZ(-38deg);
}

.font-weight {
    font-size: 13px;
}
.font-weight input {
    width: 160px;
}
.font-weight .item-title {
    color: #ababab;
}
.font-weight [data-ukt-active] .item-title {
    color: #fff;
}

.searchable-with-label input,
.searchable-with-label .uktdropdown-body {
    min-width: 0px;
    width: 85px;
}

.dropdown-without-items .uktdropdown-body {
    width: 300px;
}

#story--uikit-controls-dropdown--out-of-bounds-at-bottom {
    margin-top: 150px;
    width: 100vw;
}
.out-of-bounds-example input,
.out-of-bounds-example .uktdropdown-body {
    width: 90px;
}
.out-of-bounds-example .uktdropdown-body {
    height: 150px;
    min-width: 0px;
}
`}</style>

<Canvas>
    <Story
        args={{
            className: 'css-lengths',
        }}
        name="CSS Lengths Dropdown"
    >
        {(args) => (
            <Dropdown {...args}>
                <ul>
                    <li>0px</li>
                    <li>4px</li>
                    <li>9px</li>
                    <li>18px</li>
                    <li>36px</li>
                    <li>54px</li>
                    <li>72px</li>
                    <li>144px</li>
                    <li>167px</li>
                    <li>198px</li>
                </ul>
            </Dropdown>
        )}
    </Story>
    <Story
        args={{
            className: 'states-dropdown',
            isSearchable: true,
            placeholder: 'Choose a stateâ€¦',
        }}
        name="States Dropdown"
    >
        {(args) => (
            <Dropdown {...args}>
                <ul>
                    <li>Alabama</li>
                    <li>Alaska</li>
                    <li>Arizona</li>
                    <li>Arkansas</li>
                    <li>California</li>
                    <li>Colorado</li>
                    <li>Connecticut</li>
                    <li>Delaware</li>
                    <li>Florida</li>
                    <li>Georgia</li>
                    <li>Hawaii</li>
                    <li>Idaho</li>
                    <li>Illinois</li>
                    <li>Indiana</li>
                    <li>Iowa</li>
                    <li>Kansas</li>
                    <li>Kentucky</li>
                    <li>Louisiana</li>
                    <li>Maine</li>
                    <li>Maryland</li>
                    <li>Massachusetts</li>
                    <li>Michigan</li>
                    <li>Minnesota</li>
                    <li>Mississippi</li>
                    <li>Missouri</li>
                    <li>Montana</li>
                    <li>Nebraska</li>
                    <li>Nevada</li>
                    <li>New Hampshire</li>
                    <li>New Jersey</li>
                    <li>New Mexico</li>
                    <li>New York</li>
                    <li>North Carolina</li>
                    <li>North Dakota</li>
                    <li>Ohio</li>
                    <li>Oklahoma</li>
                    <li>Oregon</li>
                    <li>Pennsylvania</li>
                    <li>Rhode Island</li>
                    <li>South Carolina</li>
                    <li>South Dakota</li>
                    <li>Tennessee</li>
                    <li>Texas</li>
                    <li>Utah</li>
                    <li>Vermont</li>
                    <li>Virginia</li>
                    <li>Washington</li>
                    <li>West Virginia</li>
                    <li>Wisconsin</li>
                    <li>Wyoming</li>
                </ul>
            </Dropdown>
        )}
    </Story>
    <Story
        args={{
            className: 'font-weight',
            isSearchable: true,
        }}
        name="Font Weight Dropdown"
    >
        {(args) => (
            <Dropdown {...args}>
                <ul>
                    <li data-ukt-value="100">
                        <span className="item-title">Font Weight - </span>100
                    </li>
                    <li data-ukt-value="200">
                        <span className="item-title">Font Weight - </span>200
                    </li>
                    <li data-ukt-value="300">
                        <span className="item-title">Font Weight - </span>300
                    </li>
                    <li data-ukt-value="400">
                        <span className="item-title">Font Weight - </span>400
                    </li>
                    <li data-ukt-value="500">
                        <span className="item-title">Font Weight - </span>500
                    </li>
                    <li data-ukt-value="600">
                        <span className="item-title">Font Weight - </span>600
                    </li>
                    <li data-ukt-value="700">
                        <span className="item-title">Font Weight - </span>700
                    </li>
                </ul>
            </Dropdown>
        )}
    </Story>
    <Story
        args={{
            className: 'my-open-on-mount-context-menu',
            isOpenOnMount: true,
        }}
        name="Show Context Menu On Mount"
    >
        {(args) => (
            <Dropdown {...args}>
                View menu
                <Fragment>
                    <h4 className="heading">View</h4>
                    <ul>
                        <li data-ukt-item>Open</li>
                        <li data-ukt-item>Preview</li>
                    </ul>
                    <h4 className="heading">Edit</h4>
                    <ul>
                        <li data-ukt-value="save-item">Save</li>
                        <li data-ukt-value="edit-item">Edit</li>
                        <li data-ukt-value="delete-item">Delete</li>
                    </ul>
                </Fragment>
            </Dropdown>
        )}
    </Story>
    <Story
        args={{
            className: 'dropdown-without-items',
            hasItems: false,
        }}
        name="Dropdown With Interactive Contents"
    >
        {(args) => (
            <Dropdown {...args}>
                Open
                <div>
                    <p>
                        Try interacting with the controls here. The dropdown should only
                        close when you click outside of the entire dropdown or if you hit
                        the escape key.
                    </p>
                    <CSSValueInput
                        cssValueType="length"
                        label="Width"
                        onSubmitValue={() => {}}
                        placeholder="100vw"
                        unit="vw"
                    />
                    <CSSValueInput
                        cssValueType="length"
                        label="Rotation"
                        onSubmitValue={() => {}}
                        placeholder="0deg"
                        step={5}
                        unit="deg"
                    />
                </div>
            </Dropdown>
        )}
    </Story>
    <Story
        args={{
            className: 'searchable-with-label',
            isSearchable: true,
            label: 'Font size',
        }}
        name="Searchable With Label"
    >
        {(args) => (
            <Dropdown {...args}>
                <ul>
                    <li>0px</li>
                    <li>4px</li>
                    <li>9px</li>
                    <li>18px</li>
                    <li>36px</li>
                    <li>54px</li>
                    <li>72px</li>
                    <li>144px</li>
                    <li>167px</li>
                    <li>198px</li>
                </ul>
            </Dropdown>
        )}
    </Story>
    <Story
        args={{
            className: 'css-value-input-trigger',
            hasItems: true,
        }}
        name="CSSValueInput Trigger"
    >
        {(args) => (
            <Dropdown {...args}>
                <CSSValueInput
                    cssValueType="length"
                    label={null}
                    onSubmitValue={() => {}}
                    placeholder="12px"
                    unit="px"
                />
                <ul>
                    <li>0px</li>
                    <li>8px</li>
                    <li>12px</li>
                    <li>20px</li>
                    <li>30px</li>
                    <li>42px</li>
                    <li>58px</li>
                    <li>81px</li>
                    <li>102px</li>
                    <li>148px</li>
                </ul>
            </Dropdown>
        )}
    </Story>
    <Story
        args={{
            className: 'out-of-bounds-example',
            isSearchable: true,
            label: 'Should show above',
        }}
        name="Out Of Bounds At Bottom"
    >
        {(args) => (
            <Dropdown {...args}>
                <ul>
                    <li>0px</li>
                    <li>4px</li>
                    <li>9px</li>
                    <li>18px</li>
                    <li>36px</li>
                    <li>54px</li>
                    <li>72px</li>
                    <li>144px</li>
                    <li>167px</li>
                    <li>198px</li>
                </ul>
            </Dropdown>
        )}
    </Story>
</Canvas>

<Props story="States Dropdown" />
